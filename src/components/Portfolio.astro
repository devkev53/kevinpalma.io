---
import ProjectItem from '@/components/ProjectItem.astro'
import {useTranslations, getLangFromUrl} from '@/i18n/utils.ts'
import {projectsInfo} from '@/lib/projectsData'

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---
<section id="portfolio">
  <div class="container">
    <h3 class="title">{t('portfolio.title')}</h3>
    <div class="content">
      {projectsInfo.map(project => (
        <ProjectItem project={project} />
      ))}
    </div>
  </div>
</section>

<style>
  #portfolio {
    display: flex;
    justify-content: center;
    background: rgba(var(--inverse), .2);
    background: linear-gradient(rgba(var(--yellow)) 30%, rgba(var(--bg)) 70%);
    padding: 4rem 0;
    position: relative;
    overflowY: hidden;
    position: relative;
    margin-bottom: 4rem;
  }
  #portfolio::after {
    content: '';
    width: 100%;
    height: 1rem;
    position: absolute;
    left: 0;
    top: -2rem;
    background: rgba(var(--yellow));
  }
  .container {
    width: 100%;
    max-width: var(--max_width);
    padding: 2rem;
  }
  .title {
    font-size: clamp(3.8rem, 5vw, 6.5rem);
    text-shadow: 0 0 1rem rgba(var(--bg), .6);
  }
</style>
